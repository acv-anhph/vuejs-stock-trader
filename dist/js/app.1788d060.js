(function(t){function n(n){for(var e,i,r=n[0],c=n[1],u=n[2],d=0,f=[];d<r.length;d++)i=r[d],s[i]&&f.push(s[i][0]),s[i]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(n);while(f.length)f.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,n=0;n<o.length;n++){for(var a=o[n],e=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(e=!1)}e&&(o.splice(n--,1),t=i(i.s=a[0]))}return t}var e={},s={app:0},o=[];function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,n,a){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(a,e,function(n){return t[n]}.bind(null,e));return a},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=n,r=r.slice();for(var u=0;u<r.length;u++)n(r[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,n,a){t.exports=a("56d7")},"034f":function(t,n,a){"use strict";var e=a("64a9"),s=a.n(e);s.a},"0d85":function(t,n,a){},1:function(t,n){},"1bb8":function(t,n,a){},"24b2":function(t,n,a){"use strict";var e=a("0d85"),s=a.n(e);s.a},"24f2":function(t,n,a){"use strict";var e=a("bd63"),s=a.n(e);s.a},"279a":function(t,n,a){"use strict";var e=a("8a8a"),s=a.n(e);s.a},"448c":function(t,n,a){"use strict";var e=a("bf2a"),s=a.n(e);s.a},"56d7":function(t,n,a){"use strict";a.r(n);var e={};a.r(e),a.d(e,"loadData",function(){return dt});a("cadf"),a("551c"),a("097d");var s=a("2b0e"),o=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"app"}},[a("appHeader"),a("div",{staticClass:"container mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("transition",{attrs:{name:"slide",mode:"out-in"}},[a("router-view")],1)],1)])])],1)},i=[],r=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Stock trader")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("router-link",{staticClass:"nav-item",attrs:{tag:"li","active-class":"active",to:"/portfolio"}},[a("a",{staticClass:"nav-link"},[t._v("portfolio")])]),a("router-link",{staticClass:"nav-item",attrs:{tag:"li","active-class":"active",to:"/stocks"}},[a("a",{staticClass:"nav-link"},[t._v("Stocks")])])],1),a("div",{staticClass:"navbar-nav ml-auto"},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.randomizeStocks(n)}}},[t._v("End Day")])]),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle mr-4",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                        Save & Load\n                    ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.saveData}},[t._v("Save")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.loadData}},[t._v("Load")])])])]),a("strong",{staticClass:"navbar-text"},[t._v("Funds: "+t._s(t._f("currency")(t.$store.getters.funds)))])])])],1)},c=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],u=a("cebc"),l=a("2f62"),d={name:"Header",methods:Object(u["a"])({},Object(l["b"])({randomizeStocks:"randomizeStocks",fetchData:"loadData"}),{saveData:function(){var t={funds:this.$store.getters.funds,stockPortfolio:this.$store.getters.stockPortfolio,stocks:this.$store.getters.stocks};this.$http.put("data.json",t)},loadData:function(){this.fetchData()}})},f=d,p=(a("e30b"),a("2877")),v=Object(p["a"])(f,r,c,!1,null,"557b0d54",null);v.options.__file="Header.vue";var k=v.exports,m={name:"app",components:{appHeader:k},created:function(){this.$store.dispatch("initStocks")}},b=m,h=(a("034f"),Object(p["a"])(b,o,i,!1,null,null,null));h.options.__file="App.vue";var y=h.exports,_=a("8c4f"),g=a("28dd"),S=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("h1",[t._v("Trade or view your portfolio")]),a("h6",[t._v("You can save & load your data")]),a("h6",[t._v("Click on 'End day' to begin a new day")]),a("hr"),a("p",[t._v("Your funds: "+t._s(t._f("currency")(t.funds)))])])},C=[],w={name:"Home",computed:{funds:function(){return this.$store.getters.funds}}},q=w,P=(a("448c"),Object(p["a"])(q,S,C,!1,null,"f3c2645e",null));P.options.__file="Home.vue";var j=P.exports,O=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"row"},t._l(t.stocks,function(t,n){return a("appStock",{key:n,attrs:{stock:t}})}),1)},x=[],$=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"col-sm-6 col-md-4"},[a("div",{staticClass:"card bg-light mb-3"},[a("div",{staticClass:"card-header"},[t._v(t._s(t.stock.name)+"\n            "),a("small",[t._v("(Price: "+t._s(t.stock.price)+" | Quantity: "+t._s(t.stock.quantity)+")")])]),a("div",{staticClass:"card-body"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control mr-auto",class:{danger:t.insufficentQuantity},staticStyle:{width:"40%"},attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=n.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{disabled:t.insufficentQuantity||t.quantity<=0},on:{click:t.sellPortfolioStock}},[t._v(t._s(t.insufficentQuantity?"Not enough stocks":"sell")+"\n                ")])])])])])},D=[],E={name:"Stock",data:function(){return{quantity:0}},computed:{insufficentQuantity:function(){return+this.quantity>this.stock.quantity}},props:{stock:{type:Object,default:{}}},methods:Object(u["a"])({},Object(l["b"])(["sellStock"]),{sellPortfolioStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};this.quantity=0,this.sellStock(t)}})},M=E,Q=(a("24f2"),Object(p["a"])(M,$,D,!1,null,"6f05442f",null));Q.options.__file="Stock.vue";var F=Q.exports,H={name:"Portfilio",computed:Object(u["a"])({},Object(l["c"])({stocks:"stockPortfolio"})),components:{appStock:F}},T=H,I=(a("24b2"),Object(p["a"])(T,O,x,!1,null,"028c64ea",null));I.options.__file="Portfilio.vue";var z=I.exports,L=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"row"},t._l(t.stocks,function(t,n){return a("app-stock",{key:n,attrs:{stock:t}})}),1)},N=[],A=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"col-sm-6 col-md-4"},[a("div",{staticClass:"card bg-light mb-3"},[a("div",{staticClass:"card-header"},[t._v(t._s(t.stock.name)+" "),a("small",[t._v("(Price: "+t._s(t.stock.price)+")")])]),a("div",{staticClass:"card-body"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control mr-auto",class:{danger:t.insufficientFunds},staticStyle:{width:"50%"},attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=n.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{disabled:t.insufficientFunds||t.quantity<=0},on:{click:t.buyStock}},[t._v(t._s(t.insufficientFunds?"Insufficient Funds":"Buy"))])])])])])},B=[],J={name:"Stock",data:function(){return{quantity:0}},props:{stock:{type:Object,default:{}}},computed:{insufficientFunds:function(){return+this.quantity*+this.stock.price>this.funds},funds:function(){return+this.$store.getters.funds}},methods:{buyStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:+this.quantity};this.$store.dispatch("buyStock",t),this.quantity=0}}},Y=J,G=(a("279a"),Object(p["a"])(Y,A,B,!1,null,"433c6103",null));G.options.__file="Stock.vue";var W=G.exports,K={name:"Stocks",components:{appStock:W},computed:{stocks:function(){return this.$store.getters.stocks}}},R=K,U=(a("cefb"),Object(p["a"])(R,L,N,!1,null,"3ae25beb",null));U.options.__file="Stocks.vue";var V=U.exports,X=[{path:"/",component:j},{path:"/portfolio",component:z},{path:"/stocks",component:V}],Z=X,tt=(a("ac6a"),[{id:1,name:"BMW",price:110},{id:2,name:"Google",price:20},{id:3,name:"Apple",price:250},{id:4,name:"Twitter",price:8}]),nt={stocks:[]},at={setStocks:function(t,n){t.stocks=n},rndStocks:function(t){t.stocks.forEach(function(t){t.price=Math.round(+t.price*(Math.random()+.55))})}},et={buyStock:function(t,n){var a=t.commit;a("buyStock",n)},initStocks:function(t){var n=t.commit;n("setStocks",tt)},randomizeStocks:function(t){var n=t.commit;n("rndStocks")}},st={stocks:function(t){return t.stocks}},ot={state:nt,mutations:at,actions:et,getters:st},it=(a("7f7f"),a("7514"),{funds:1e4,stocks:[]}),rt={buyStock:function(t,n){var a=n.stockId,e=n.stockPrice,s=n.quantity,o=t.stocks.find(function(t){return+t.id===+a});o?o.quantity+=s:t.stocks.push({id:a,quantity:s}),t.funds-=e*s},sellStock:function(t,n){var a=n.stockId,e=n.stockPrice,s=n.quantity,o=t.stocks.find(function(t){return+t.id===+a});o.quantity>+s?o.quantity-=+s:t.stocks.splice(t.stocks.indexOf(o),1),t.funds+=e*+s},setPortfolio:function(t,n){t.funds=n.funds,t.stocks=n.stockPortfolio?n.stockPortfolio:[]}},ct={sellStock:function(t,n){var a=t.commit;a("sellStock",n)}},ut={stockPortfolio:function(t,n){return t.stocks.map(function(t){var a=n.stocks.find(function(n){return+n.id===+t.id});return{id:t.id,quantity:t.quantity,name:a.name,price:a.price}})},funds:function(t){return t.funds}},lt={state:it,mutations:rt,actions:ct,getters:ut},dt=function(t){var n=t.commit;s["a"].http.get("data.json").then(function(t){var a=t.data.stocks,e=t.data.stockPortfolio,s=t.data.funds;n("setStocks",a),n("setPortfolio",{stockPortfolio:e,funds:s})}).catch(function(t){console.log(t)})};s["a"].use(l["a"]);var ft=new l["a"].Store({actions:e,modules:{stocks:ot,portfolio:lt}});s["a"].config.productionTip=!1,s["a"].use(_["a"]),s["a"].use(g["a"]),s["a"].http.options.root="https://stock-trader-65c52.firebaseio.com/";var pt=new _["a"]({mode:"history",routes:Z});s["a"].filter("currency",function(t){return"$"+t.toLocaleString()}),new s["a"]({render:function(t){return t(y)},router:pt,store:ft}).$mount("#app")},"64a9":function(t,n,a){},"8a8a":function(t,n,a){},b3a3:function(t,n,a){},bd63:function(t,n,a){},bf2a:function(t,n,a){},cefb:function(t,n,a){"use strict";var e=a("1bb8"),s=a.n(e);s.a},e30b:function(t,n,a){"use strict";var e=a("b3a3"),s=a.n(e);s.a}});
//# sourceMappingURL=app.1788d060.js.map